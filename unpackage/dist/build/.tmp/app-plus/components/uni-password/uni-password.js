(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/uni-password/uni-password"],{"222b":function(s,t,n){"use strict";var e=n("95f1"),o=n.n(e);o.a},"4b77":function(s,t,n){"use strict";n.r(t);var e=n("ace0"),o=n("8d5e");for(var i in o)"default"!==i&&function(s){n.d(t,s,function(){return o[s]})}(i);n("222b");var a=n("2877"),d=Object(a["a"])(o["default"],e["a"],e["b"],!1,null,"ca7bc492",null);t["default"]=d.exports},"8d5e":function(s,t,n){"use strict";n.r(t);var e=n("c255"),o=n.n(e);for(var i in e)"default"!==i&&function(s){n.d(t,s,function(){return e[s]})}(i);t["default"]=o.a},"95f1":function(s,t,n){},ace0:function(s,t,n){"use strict";var e=function(){var s=this,t=s.$createElement;s._self._c},o=[];n.d(t,"a",function(){return e}),n.d(t,"b",function(){return o})},c255:function(s,t,n){"use strict";(function(s,e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=d(n("ac5c")),i=d(n("131c")),a=n("2f62");function d(s){return s&&s.__esModule?s:{default:s}}function r(s){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},e=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),e.forEach(function(t){p(s,t,n[t])})}return s}function p(s,t,n){return t in s?Object.defineProperty(s,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[t]=n,s}var u=function(){var s=[0,1,2,3,4,5,6,7,8,9];return s.sort(function(){return Math.random()>.5?-1:1})},c=function(){return Promise.all([n.e("common/vendor"),n.e("components/i-icon/i-icon")]).then(n.bind(null,"7802"))},l=function(){return n.e("components/loading/dialog-loading").then(n.bind(null,"7213"))},h={props:{defaultPassword:{type:String},flag:{type:Boolean}},components:{uniIcon:c,simpleLoading:l},data:function(){return{items:[0,1,2,3,4,5],password:[],passwords:[],oldpassword:[],psdString:"",psdStrings:"",oldpsdString:"",keys:u(),pattern:"hidden",oldpsd:!0,newpsd:!1,newpsds:!1,passwordtext:"请输入旧密码",vershow:!0,vervisit:"none",vertext:"俩次密码不一致，请重新输入！",Userid:"",Psdindex:0,userinfo:"",PsdFalg:!0}},computed:(0,a.mapState)(["UserInfo"]),mounted:function(){var t=this,n='{method:"CheckUserPayPwd",user_id:"'.concat(this.UserInfo.userid,'"}');console.log(s(n," at components\\uni-password\\uni-password.vue:100")),this.$api.ReagisterPhone(n).then(function(n){console.log(s(n," at components\\uni-password\\uni-password.vue:102")),console.log(s(n.data.result," at components\\uni-password\\uni-password.vue:103")),1==parseInt(n.data.result)&&"支付密码未设置"==n.data.message?(t.oldpsd=!1,t.newpsd=!0,t.passwordtext="请输入密码",t.PsdFalg=!1):t.PsdFalg=!0})},methods:r({},(0,a.mapMutations)(["SetPayPsd"]),{show:function(){var s={cancel:!1};this.$emit("shown",s),s.cancel||(this.pattern="slideup")},hide:function(){var s={cancel:!1};this.$emit("hidden",s),s.cancel||(this.pattern="slidedown")},AjaxUserInfo:function(){var t=this;console.log(s(this.UserInfo.userid," at components\\uni-password\\uni-password.vue:146"));var n='{method:"GetUserInfo",user_id:"'.concat(this.UserInfo.userid,'"}');this.$api.ReagisterPhone(n).then(function(n){console.log(s(JSON.stringify(n)," at components\\uni-password\\uni-password.vue:149")),t.userinfo=JSON.parse(n.data.user_info)[0],t.SetPayPsd(t.userinfo)})},input:function(t){var n=this,a=this,d={target:this,data:t,cancel:!1,callback:void 0};if(console.log(s("s"," at components\\uni-password\\uni-password.vue:162")),this.$emit("input",d),this.oldpsd)return this.oldpassword.push(t),void(this.oldpassword.length===this.items.length&&(this.oldpsdString=this.oldpassword.join(""),console.log(s("旧密码"+this.oldpsdString," at components\\uni-password\\uni-password.vue:168")),setTimeout(function(){n.newpsd=!0,n.oldpsd=!1,n.newpsds=!1,n.passwordtext="请输入新密码"},500)));if(this.newpsd)d.cancel||(this.password.push(t),this.password.length===this.items.length&&(this.psdString=this.password.join(""),console.log(s("第一次"+this.psdString," at components\\uni-password\\uni-password.vue:185")),setTimeout(function(){n.newpsd=!1,n.oldpsd=!1,n.newpsds=!0,n.passwordtext="请再次输入密码"},200)),d.callback&&"function"===typeof d.callback&&d.callback.call(this));else if(this.newpsds&&(this.passwords.push(t),this.passwords.length===this.items.length)){if(this.psdStrings=this.passwords.join(""),this.psdStrings==this.psdString){if(console.log(s("密码一致"," at components\\uni-password\\uni-password.vue:204")),0==this.Psdindex){if(this.$refs.simpleLoading.show({image:"../../../static/app-plus/tus.png",text:"绑定中..."}),this.Psdindex=1,this.Userid=this.UserInfo.userid,console.log(s(this.Userid," at components\\uni-password\\uni-password.vue:212")),this.PsdFalg){var r={old_pay_pwd:this.oldpsdString,new_pay_pwd:this.psdStrings};console.log(s(r," at components\\uni-password\\uni-password.vue:219"));var p=(0,o.default)(this.oldpsdString);console.log(s(p," at components\\uni-password\\uni-password.vue:221"));var u=i.default.encrypt(JSON.stringify(r),p),c='{method:"ModifyUserPayPwd",user_id:"'.concat(this.Userid,'",post_params:"').concat(u,'"}');return void this.$api.ReagisterPhone(c).then(function(t){console.log(s(t," at components\\uni-password\\uni-password.vue:225")),setTimeout(function(){a.$refs.simpleLoading.hide(),0==t.data.result?e.showToast({title:t.data.message,duration:1e3,icon:"none",success:function(){a.newpsd=!1,a.oldpsd=!0,a.newpsds=!1,a.passwordtext="请输入旧密码",a.password=[],a.passwords=[],a.oldpassword=[]}}):1==t.data.result&&e.showToast({title:t.data.message,duration:1e3,icon:"none",success:function(){a.newpsd=!1,a.oldpsd=!0,a.newpsds=!1,a.passwordtext="请输入旧密码",a.password=[],a.passwords=[],a.oldpassword=[],setTimeout(function(){e.navigateBack({delta:1,animationType:"pop-out",animationDuration:200})},500)}}),a.Psdindex=0},1e3)})}var l={user_id:this.Userid,user_pay_pwd:this.psdStrings};console.log(s(l," at components\\uni-password\\uni-password.vue:276"));var h=i.default.encrypt(JSON.stringify(l),"afd60b4ad2ec1l2c586e2150770f8f9e");console.log(s(h," at components\\uni-password\\uni-password.vue:278"));var w='{method:"SetUserPayPwd",post_params:"'.concat(h,'"}');e.request({url:"http://192.168.1.6:2001/App/Common/CSharp/app/user/UserInfo.ashx",data:{params:w},success:function(t){console.log(s(t," at components\\uni-password\\uni-password.vue:286")),1==t.data.result&&setTimeout(function(){a.$refs.simpleLoading.hide(),e.showToast({title:"绑定成功",duration:1500,icon:"none",success:function(){a.AjaxUserInfo()}}),setTimeout(function(){n.Psdindex=0,e.navigateBack({delta:1,animationType:"pop-out",animationDuration:200})},1e3)},1e3)}}),this.done()}}else this.vervisit="block",this.passwordtext="请输入密码",this.newpsd=!0,this.newpsds=!1,this.password=[],this.passwords=[],setTimeout(function(){n.vervisit="none"},2e3);console.log(s(this.psdStrings," at components\\uni-password\\uni-password.vue:324"))}},del:function(){var s={cancel:!1};this.$emit("delete",s),s.cancel||(this.password.length>0&&this.newpsd?this.password=this.password.slice(0,this.password.length-1):this.passwords.length>0&&this.newpsds?this.passwords=this.passwords.slice(0,this.passwords.length-1):this.oldpassword=this.oldpassword.slice(0,this.oldpassword.length-1))},done:function(){this.password.length===this.items.length&&this.$emit("confirm",{target:this,value:this.password.join("")})},Back:function(){e.navigateBack({delta:1,animationType:"pop-out",animationDuration:200})}}),watch:{defaultPassword:{immediate:!0,handler:function(s){s&&6===s.length&&(this.password=s.split("").map(Number))}}}};t.default=h}).call(this,n("0de9")["default"],n("6e42")["default"])}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/uni-password/uni-password-create-component',
    {
        'components/uni-password/uni-password-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('6e42')['createComponent'](__webpack_require__("4b77"))
        })
    },
    [['components/uni-password/uni-password-create-component']]
]);                
