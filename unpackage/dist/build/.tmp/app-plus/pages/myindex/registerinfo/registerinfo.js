(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/myindex/registerinfo/registerinfo"],{"0779":function(e,t,i){"use strict";i.r(t);var n=i("633d"),r=i("e52c");for(var o in r)"default"!==o&&function(e){i.d(t,e,function(){return r[e]})}(o);i("c065");var a=i("2877"),u=Object(a["a"])(r["default"],n["a"],n["b"],!1,null,"280a32ce",null);t["default"]=u.exports},"0e02":function(e,t,i){},"1ff1":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},r=[];i.d(t,"a",function(){return n}),i.d(t,"b",function(){return r})},"3a5c":function(e,t,i){},"5b19":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},r=[];i.d(t,"a",function(){return n}),i.d(t,"b",function(){return r})},"5f48":function(e,t,i){"use strict";i.r(t);var n=i("5b19"),r=i("642e");for(var o in r)"default"!==o&&function(e){i.d(t,e,function(){return r[e]})}(o);i("6272");var a=i("2877"),u=Object(a["a"])(r["default"],n["a"],n["b"],!1,null,null,null);t["default"]=u.exports},6272:function(e,t,i){"use strict";var n=i("3a5c"),r=i.n(n);r.a},"633d":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},r=[];i.d(t,"a",function(){return n}),i.d(t,"b",function(){return r})},"642e":function(e,t,i){"use strict";i.r(t);var n=i("a91f"),r=i.n(n);for(var o in n)"default"!==o&&function(e){i.d(t,e,function(){return n[e]})}(o);t["default"]=r.a},"669d":function(e,t,i){"use strict";(function(e){i("b1e6"),i("921b");n(i("66fd"));var t=n(i("804a"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("6e42")["createPage"])},"804a":function(e,t,i){"use strict";i.r(t);var n=i("1ff1"),r=i("d3fd");for(var o in r)"default"!==o&&function(e){i.d(t,e,function(){return r[e]})}(o);i("d653");var a=i("2877"),u=Object(a["a"])(r["default"],n["a"],n["b"],!1,null,"30651d08",null);t["default"]=u.exports},a91f:function(e,t,i){"use strict";function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={data:function(){return{pickerChangeValue:[],pickerValue:[],pickerValueArrayChange:!0,modeChange:!1,pickerValueSingleArray:[],pickerValueHour:[],pickerValueMinute:[],pickerValueMulArray:[],pickerValueMulTwoOne:[],pickerValueMulTwoTwo:[],pickerValueMulThreeOne:[],pickerValueMulThreeTwo:[],pickerValueMulThreeThree:[],showPicker:!1}},props:{mode:{type:String,default:"selector"},pickerValueArray:{type:Array,default:function(){return[]}},pickerValueDefault:{type:Array,default:function(){return[]}},deepLength:{type:Number,default:2},themeColor:String},watch:n({pickerValueArray:function(e,t){this.pickerValueArrayChange=!0},mode:function(e,t){this.modeChange=!0}},"pickerValueArray",function(e){this.initPicker(e)}),methods:{initPicker:function(e){var t=e;if(this.pickerValue=this.pickerValueDefault,"selector"===this.mode)this.pickerValueSingleArray=e;else if("timeSelector"===this.mode){this.modeChange=!1;for(var i=[],n=[],r=0;r<24;r++)i.push({value:r,label:r>9?"".concat(r," 时"):"0".concat(r," 时")});for(var o=0;o<60;o++)n.push({value:o,label:o>9?"".concat(o," 分"):"0".concat(o," 分")});this.pickerValueHour=i,this.pickerValueMinute=n}else if("multiSelector"===this.mode)this.pickerValueMulArray=e;else if("multiLinkageSelector"===this.mode&&2===this.deepLength){for(var a=[],u=[],s=0,l=t.length;s<l;s++)a.push(t[s]);if(2===this.pickerValueDefault.length)for(var c=this.pickerValueDefault[0],h=0,f=t[c].children.length;h<f;h++)u.push(t[c].children[h]);else for(var d=0,p=t[0].children.length;d<p;d++)u.push(t[0].children[d]);this.pickerValueMulTwoOne=a,this.pickerValueMulTwoTwo=u}else if("multiLinkageSelector"===this.mode&&3===this.deepLength){for(var g=[],m=[],k=[],v=0,V=t.length;v<V;v++)g.push(t[v]);if(this.pickerValueDefault=3===this.pickerValueDefault.length?this.pickerValueDefault:[0,0,0],3===this.pickerValueDefault.length){for(var P=this.pickerValueDefault[0],T=0,b=t[P].children.length;T<b;T++)m.push(t[P].children[T]);for(var y=this.pickerValueDefault[1],w=0,M=t[P].children[y].children.length;w<M;w++)k.push(t[P].children[y].children[w])}this.pickerValueMulThreeOne=g,this.pickerValueMulThreeTwo=m,this.pickerValueMulThreeThree=k}},show:function(){var e=this;setTimeout(function(){e.pickerValueArrayChange||e.modeChange?(e.initPicker(e.pickerValueArray),e.showPicker=!0,e.pickerValueArrayChange=!1,e.modeChange=!1):e.showPicker=!0},0)},maskClick:function(){this.pickerCancel()},pickerCancel:function(){this.showPicker=!1,this._initPickerVale();var e={index:this.pickerValue,value:this._getPickerLabelAndValue(this.pickerValue,this.mode).value,label:this._getPickerLabelAndValue(this.pickerValue,this.mode).label};this.$emit("onCancel",e)},pickerConfirm:function(e){this.showPicker=!1,this._initPickerVale();var t={index:this.pickerValue,value:this._getPickerLabelAndValue(this.pickerValue,this.mode).value,label:this._getPickerLabelAndValue(this.pickerValue,this.mode).label};this.$emit("onConfirm",t)},showPickerView:function(){this.showPicker=!0},pickerChange:function(e){this.pickerValue=e.mp.detail.value;var t={index:this.pickerValue,value:this._getPickerLabelAndValue(this.pickerValue,this.mode).value,label:this._getPickerLabelAndValue(this.pickerValue,this.mode).label};this.$emit("onChange",t)},pickerChangeMul:function(e){if(2===this.deepLength){var t=this.pickerValueArray,i=e.mp.detail.value;if(i[0]!==this.pickerValue[0]){for(var n=[],r=0,o=t[i[0]].children.length;r<o;r++)n.push(t[i[0]].children[r]);this.pickerValueMulTwoTwo=n,i[1]=0}this.pickerValue=i}else if(3===this.deepLength){var a=this.pickerValueArray,u=e.mp.detail.value,s=[],l=[];if(u[0]!==this.pickerValue[0]){this.pickerValueMulThreeTwo=[];for(var c=0,h=a[u[0]].children.length;c<h;c++)s.push(a[u[0]].children[c]);for(var f=0,d=a[u[0]].children[0].children.length;f<d;f++)l.push(a[u[0]].children[0].children[f]);u[1]=0,u[2]=0,this.pickerValueMulThreeTwo=s,this.pickerValueMulThreeThree=l}else if(u[1]!==this.pickerValue[1]){this.pickerValueMulThreeThree=[],s=this.pickerValueMulThreeTwo;for(var p=0,g=a[u[0]].children[u[1]].children.length;p<g;p++)l.push(a[u[0]].children[u[1]].children[p]);u[2]=0,this.pickerValueMulThreeThree=l}this.pickerValue=u}var m={index:this.pickerValue,value:this._getPickerLabelAndValue(this.pickerValue,this.mode).value,label:this._getPickerLabelAndValue(this.pickerValue,this.mode).label};this.$emit("onChange",m)},_getPickerLabelAndValue:function(e,t){var i,n=[];if("selector"===t)i=this.pickerValueSingleArray[e].label,n.push(this.pickerValueSingleArray[e].value);else if("timeSelector"===t)i="".concat(this.pickerValueHour[e[0]].label,"-").concat(this.pickerValueMinute[e[1]].label),n.push(this.pickerValueHour[e[0]].value),n.push(this.pickerValueHour[e[1]].value);else if("multiSelector"===t)for(var r=0;r<e.length;r++)r>0?i+=this.pickerValueMulArray[r][e[r]].label+(r===e.length-1?"":"-"):i=this.pickerValueMulArray[r][e[r]].label+"-",n.push(this.pickerValueMulArray[r][e[r]].value);else"multiLinkageSelector"===t&&(i=2===this.deepLength?"".concat(this.pickerValueMulTwoOne[e[0]].label,"-").concat(this.pickerValueMulTwoTwo[e[1]].label):"".concat(this.pickerValueMulThreeOne[e[0]].label,"-").concat(this.pickerValueMulThreeTwo[e[1]].label,"-").concat(this.pickerValueMulThreeThree[e[2]].label),2===this.deepLength?(n.push(this.pickerValueMulTwoOne[e[0]].value),n.push(this.pickerValueMulTwoTwo[e[1]].value)):(n.push(this.pickerValueMulThreeOne[e[0]].value),n.push(this.pickerValueMulThreeTwo[e[1]].value),n.push(this.pickerValueMulThreeThree[e[2]].value)));return{label:i,value:n}},_initPickerVale:function(){0===this.pickerValue.length&&("selector"===this.mode?this.pickerValue=[0]:"multiSelector"===this.mode?this.pickerValue=new Int8Array(this.pickerValueArray.length):"multiLinkageSelector"===this.mode&&2===this.deepLength?this.pickerValue=[0,0]:"multiLinkageSelector"===this.mode&&3===this.deepLength&&(this.pickerValue=[0,0,0]))}}};t.default=r},c006:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("2f62"),r=o(i("0779"));function o(e){return e&&e.__esModule?e:{default:e}}var a={components:{regs:r.default},data:function(){return{len:0,startX:0,moveEndX:0,valueX:0}},computed:(0,n.mapState)(["hasLogins","hasLogin"]),onLoad:function(){this.hasLogins&&!this.hasLogin&&e.setNavigationBarTitle({title:"绑定手机号"})},methods:{touchstart:function(e){e.preventDefault(),this.startX=e.touches[0].pageX},touchmove:function(t){return t.preventDefault(),this.moveEndX=t.touches[0].pageX,this.valueX=this.moveEndX-this.startX,this.valueX>=80?void e.navigateBack({delta:1,animationType:"pop-in",animationDuration:200}):void this.valueX}}};t.default=a}).call(this,i("6e42")["default"])},c065:function(e,t,i){"use strict";var n=i("c5ca"),r=i.n(n);r.a},c5ca:function(e,t,i){},d3fd:function(e,t,i){"use strict";i.r(t);var n=i("c006"),r=i.n(n);for(var o in n)"default"!==o&&function(e){i.d(t,e,function(){return n[e]})}(o);t["default"]=r.a},d653:function(e,t,i){"use strict";var n=i("0e02"),r=i.n(n);r.a},e52c:function(e,t,i){"use strict";i.r(t);var n=i("ee45"),r=i.n(n);for(var o in n)"default"!==o&&function(e){i.d(t,e,function(){return n[e]})}(o);t["default"]=r.a},ee45:function(e,t,i){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;o(i("5f48")),o(i("dfc3"));var r=i("2f62");function o(e){return e&&e.__esModule?e:{default:e}}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){u(e,t,i[t])})}return e}function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=function(){return Promise.all([i.e("common/vendor"),i.e("components/mpvue-citypicker/mpvueCityPicker")]).then(i.bind(null,"83c9"))},l=function(){return i.e("components/loading/alert").then(i.bind(null,"818f"))},c=function(){return i.e("components/loading/dialog-loading").then(i.bind(null,"7213"))},h={components:{mpvueCityPicker:s,simpleLoading:c,alerts:l},computed:(0,r.mapState)(["hasLogins","hasLogin","UserInfo"]),data:function(){return{alertarray:{show:!1,msg:""},pickerText:"",themeColor:"#007AFF",cityPickerValueDefault:[0,0,1],formtxt:{city:"请选择地址"},vervisit:"none",vershow:!1,indexnum:1,trpstext:"",userinfos:{userPhone:"",userYzm:"",userName:"",userId:"",userRegion:"请选择地址",userAddress:"",userEamil:""},Verification:[{name:"userPhone",userPhone:/^1\d{10}$/,trpstexts:"请输入11位的电话号码",index:!1},{name:"userName",userName:/^[\u4e00-\u9fa5]+$/,trpstexts:"请输入只包含中文用户名"},{name:"userId",userId:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,trpstexts:"请输入有效的身份证号码"},{name:"userEamil",userEamil:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,trpstexts:"请输入正确的邮箱地址"}],onclickindex:0,paramsdata:{method:"",phone:""},PhoneYz:!1,PhoneMsg:!1,YZMtext:"获取验证码",YZMIndex:1,Codeget:!0,Codeput:!1,CodeNum:60,MobilePhone:!0,DisUserPhones:!1,ifPhone:!1,UserCode:""}},mounted:function(){console.log(e(this.hasLogins," at pages\\function\\regphone\\regphone.vue:117")),this.GetInfo()},watch:{hasLogins:function(e,t){this.hasLogins=e,this.hasLogins&&(this.userinfos.userPhone=this.UserInfo.userinfos.M0001_PHONE),this.GetInfo()}},methods:a({},(0,r.mapMutations)(["login","PhonesSuccess"]),{GetInfo:function(){if("请登录"!=this.UserInfo.userphone)return"000000"!=this.UserInfo.userpH?(console.log(e(this.UserInfo.userinfos," at pages\\function\\regphone\\regphone.vue:139")),this.userinfos.userPhone=this.UserInfo.userinfos.M0001_PHONE,this.MobilePhone=!1,this.DisUserPhones=!0,void(this.ifPhone=!0)):void 0},onCancel:function(e){},GetUserInfo:function(){var e=this,t='{method:"GetUserInfo",user_id:"'.concat(this.UserInfo.userid,'"}');this.$api.ReagisterPhone(t).then(function(t){e.userinfos.userPhone=JSON.parse(t.data.user_info)[0].M0001_PHONE})},showMulLinkageThreePicker:function(){this.$refs.mpvueCityPicker.show()},onConfirm:function(t){this.pickerText=JSON.stringify(t),this.pickerText=JSON.parse(this.pickerText),this.formtxt.city=this.pickerText.label,console.log(e(this.pickerText.label," at pages\\function\\regphone\\regphone.vue:165"))},registerlo:function(){var t=this;console.log(e(this.userinfos.userPhone," at pages\\function\\regphone\\regphone.vue:169")),setTimeout(function(){if("请登录"!=t.UserInfo.userphone&&t.DisUserPhones)n.showToast({title:"该账户已绑定",duration:1e3,icon:"none"});else{var i='{method:"CheckSmsValidateCode",phone:"'.concat(t.userinfos.userPhone,'",sms_validate_code:"').concat(t.userinfos.userYzm,'"}');t.$api.SendVerfyCode(i).then(function(i){if(console.log(e(i," at pages\\function\\regphone\\regphone.vue:181")),0==i.data.result){if(console.log(e("验证成功"," at pages\\function\\regphone\\regphone.vue:183")),t.YZMtext="获取验证码",t.YZMIndex=1,t.Codeget=!0,t.Codeput=!1,t.UserCode="",t.CodeNum=60,t.PhoneYz&&!t.PhoneMsg){if(0==t.onclickindex)if(t.hasLogins&&!t.hasLogin){t.$refs.simpleLoading.show({image:"../../../static/app-plus/tus.png",text:"绑定中..."}),console.log(e(t.UserInfo.userid," at pages\\function\\regphone\\regphone.vue:197"));var r='{method:"BindPhone",user_id:"'.concat(t.UserInfo.userid,'",phone:"').concat(t.userinfos.userPhone,'"}');t.$api.ReagisterPhone(r).then(function(i){console.log(e(JSON.stringify(i)," at pages\\function\\regphone\\regphone.vue:200")),0!=i.data.result?(t.onclickindex,setTimeout(function(){t.$refs.simpleLoading.hide(),t.onclickindex,t.PhonesSuccess(t.userinfos.userPhone),t.userinfos.userPhone="",t.userinfos.userYzm="",n.showToast({title:"绑定成功",duration:1e3,icon:"none",success:function(){n.navigateTo({url:"../../function/BindingPhone/BindingPhone",animationType:"pop-in",animationDuration:200})}})},1e3)):n.showToast({title:"绑定失败",duration:1e3,icon:"none"})})}else t.$refs.simpleLoading.show({image:"../../../static/app-plus/tus.png",text:"加载中..."}),t.onclickindex,setTimeout(function(){t.$refs.simpleLoading.hide(),t.onclickindex,n.navigateTo({url:'../../function/Setpassword/Setpassword?phone="'.concat(t.userinfos.userPhone,'"'),animationType:"pop-in",animationDuration:200})},1e3);return}!t.PhoneYz&&t.PhoneMsg?1==t.indexnum&&(t.indexnum=0,t.alertarray.show=!0,t.alertarray.msg="用户已存在",setTimeout(function(){t.indexnum=1,t.alertarray.show=!1},1e3)):1==t.indexnum&&(t.indexnum=0,t.alertarray.show=!0,t.alertarray.msg="请输入正确的手机号码",setTimeout(function(){t.indexnum=1,t.alertarray.show=!1},1e3))}else n.showToast({title:"验证码不正确",duration:1e3,icon:"none"})})}},300)},Tips:function(e){var t=this;this.trpstext=e,1==this.indexnum&&(this.indexnum=0,this.alertarray.show=!0,this.alertarray.msg="请输入正确的手机号",setTimeout(function(){t.indexnum=1,t.alertarray.show=!1},1e3))},blurfooter:function(t){var i=this;this.Verification.forEach(function(n){if(n.name==t&&"userPhone"==n.name){if(!n.userPhone.test(i.userinfos.userPhone))return""!=i.userinfos.userPhone&&(i.PhoneMsg=!0,n.index=!0,i.Tips(n.trpstexts)),!1;var r='{method:"CheckUserExists",phone:"'.concat(i.userinfos.userPhone,'"}');i.paramsdata.phone=i.userinfos.userPhone,i.$api.ReagisterPhone(r).then(function(t){console.log(e(t," at pages\\function\\regphone\\regphone.vue:321")),1==t.data.result&&"用户已存在"==t.data.message?(i.OpenInfo(t.data.message),i.PhoneYz=!1,i.PhoneMsg=!0):(i.PhoneYz=!0,i.PhoneMsg=!1)})}})},OpenInfo:function(e){var t=this;this.alertarray.show=!0,this.alertarray.msg=e,setTimeout(function(){t.indexnum=1,t.alertarray.show=!1},1e3)},getCode:function(){var t=this;console.log(e(this.PhoneYz," at pages\\function\\regphone\\regphone.vue:348"));var i='{method:"SendVerfyCode",phone:"'.concat(this.userinfos.userPhone,'"}');setTimeout(function(){console.log(e(t.YZMIndex+","+t.Codeget+","+t.Codeput+","+t.PhoneYz," at pages\\function\\regphone\\regphone.vue:351")),1==t.YZMIndex&&1==t.Codeget&&0==t.Codeput&&t.PhoneYz&&t.PhoneYz&&1==t.YZMIndex&&t.$api.SendVerfyCode(i).then(function(e){if(0!=e.data.result)n.showToast({title:"验证码发送失败",duration:1e3,icon:"none"});else{n.showToast({title:e.data.message,duration:1e3,icon:"none"}),t.YZMIndex=0,t.Codeget=!1,t.Codeput=!0;var i=setInterval(function(){t.CodeNum--,t.CodeNum<=0&&(clearInterval(i),t.YZMIndex=1,t.Codeget=!0,t.Codeput=!1,t.UserCode="")},1e3)}})},500)}}),onBackPress:function(){if(this.$refs.mpvueCityPicker.showPicker)return this.$refs.mpvueCityPicker.pickerCancel(),!0},onUnload:function(){this.$refs.mpvueCityPicker.showPicker&&this.$refs.mpvueCityPicker.pickerCancel()}};t.default=h}).call(this,i("0de9")["default"],i("6e42")["default"])}},[["669d","common/runtime","common/vendor"]]]);