(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/myindex/ChangeLogin/ChangeLogin"],{"0d24":function(t,s,e){"use strict";(function(t){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=d(e("79ee")),a=d(e("6fce")),o=d(e("ad0f")),n=e("2f62");function d(t){return t&&t.__esModule?t:{default:t}}var r={data:function(){return{isHidePassword:!0,phone:"",password:"",passwords:"",Prompt:!1,onclickindex:0,phones:"",Psdtext:"请输入最小6位最大12位包含(字母或数字)的密码",psdIndex:0,oldpassword:"",heights:"",len:0,startX:0,moveEndX:0,valueX:0}},computed:(0,n.mapState)(["UserInfo"]),components:{simpleLoading:i.default},onLoad:function(s){t.getSystemInfo({success:function(t){this.heights=t.windowHeight+"px"}})},methods:{touchstart:function(t){t.preventDefault(),this.startX=t.touches[0].pageX},touchmove:function(s){s.preventDefault(),this.moveEndX=s.touches[0].pageX,this.valueX=this.moveEndX-this.startX,this.valueX>=80&&t.navigateBack({delta:1,animationType:"pop-in",animationDuration:200})},isHidePasswordClick:function(){this.isHidePassword=!this.isHidePassword},submit:function(){var s=this;if(2!=this.psdIndex)console.log("no");else if(0==this.onclickindex){this.$refs.simpleLoading.show({image:"../../../static/app-plus/tus.png",text:"修改中..."}),this.onclickindex;var e={old_login_pwd:this.oldpassword,new_login_pwd:this.passwords};console.log(e);var i=(0,o.default)(this.oldpassword);console.log(i);var n=a.default.encrypt(JSON.stringify(e),i),d='{method:"ModifyUserLoginPwd",user_id:"'.concat(this.UserInfo.userid,'",post_params:"').concat(n,'"}');console.log(d),this.$api.ReagisterPhone(d).then(function(e){console.log(e),setTimeout(function(){1==e.data.result?(s.$refs.simpleLoading.hide(),t.showToast({title:e.data.message,duration:1e3,icon:"none"}),setTimeout(function(){s.onclickindex=0,t.navigateBack({delta:1,animationType:"pop-in",animationDuration:200})},1e3)):(s.$refs.simpleLoading.hide(),t.showToast({title:"旧密码错误",duration:1e3,icon:"none"}),setTimeout(function(){s.psdIndex=0,s.onclickindex=0,s.oldpassword="",s.password="",s.passwords=""},1e3))},1e3)})}},BlurPsd:function(){var t=/^[A-Za-z0-9]{6,12}$/;if(!t.test(this.password))return this.Psdtext="请输入最小6位最大12位包含(字母或数字)的密码",void(this.Prompt=!0);this.psdIndex++,this.Prompt=!1},repeatpsd:function(){if(1==this.psdIndex){if(this.password!=this.passwords)return this.passwords="",this.Psdtext="俩次密码不一致",void(this.Prompt=!0);this.psdIndex++,this.Prompt=!1}}}};s.default=r}).call(this,e("6e42")["default"])},1906:function(t,s,e){"use strict";e("fa0a");var i=o(e("b0ce")),a=o(e("ab03"));function o(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(a.default))},"36dd":function(t,s,e){"use strict";var i=e("8013"),a=e.n(i);a.a},8013:function(t,s,e){},ab03:function(t,s,e){"use strict";e.r(s);var i=e("cc52"),a=e("f457");for(var o in a)"default"!==o&&function(t){e.d(s,t,function(){return a[t]})}(o);e("36dd");var n=e("2877"),d=Object(n["a"])(a["default"],i["a"],i["b"],!1,null,"4a4e5c5e",null);s["default"]=d.exports},cc52:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{staticClass:"content",attrs:{eventid:"bde07b96-5"},on:{touchstart:t.touchstart,touchmove:t.touchmove}},[e("view",{staticClass:"input-box"},[e("view",{staticClass:"input-item"},[e("view",{staticClass:"input-label"},[t._v("旧密码")]),e("view",{staticClass:"input-body"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.oldpassword,expression:"oldpassword"}],staticClass:"input",staticStyle:{"margin-right":"50rpx"},attrs:{type:"text",password:!!t.isHidePassword,placeholder:"请输入密码",maxlength:"20",eventid:"bde07b96-0"},domProps:{value:t.oldpassword},on:{input:function(s){s.target.composing||(t.oldpassword=s.target.value)}}}),e("image",{staticClass:"eye",attrs:{src:t.isHidePassword?"/static/img/attention.png":"/static/img/attention_forbid.png",eventid:"bde07b96-1"},on:{click:t.isHidePasswordClick}})])]),e("view",{staticClass:"input-item"},[e("view",{staticClass:"input-label"},[t._v("新密码")]),e("view",{staticClass:"input-body"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",staticStyle:{"margin-right":"50rpx"},attrs:{type:"text",password:!!t.isHidePassword,placeholder:"请输入密码",maxlength:"20",eventid:"bde07b96-2"},domProps:{value:t.password},on:{blur:t.BlurPsd,input:function(s){s.target.composing||(t.password=s.target.value)}}})])]),e("view",{staticClass:"input-item"},[e("view",{staticClass:"input-label"},[t._v("输入密码")]),e("view",{staticClass:"input-body"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.passwords,expression:"passwords"}],staticClass:"input",staticStyle:{"margin-right":"50rpx"},attrs:{password:!!t.isHidePassword,type:"n",placeholder:"请再次输入密码",maxlength:"20",eventid:"bde07b96-3"},domProps:{value:t.passwords},on:{blur:t.repeatpsd,input:function(s){s.target.composing||(t.passwords=s.target.value)}}})])]),t.Prompt?e("view",{staticClass:"Promptpsd"},[t._v(t._s(t.Psdtext))]):t._e()]),e("button",{staticClass:"button",attrs:{eventid:"bde07b96-4"},on:{click:t.submit}},[t._v("确定")]),e("simpleLoading",{ref:"simpleLoading",attrs:{mpcomid:"bde07b96-0"}})],1)},a=[];e.d(s,"a",function(){return i}),e.d(s,"b",function(){return a})},f457:function(t,s,e){"use strict";e.r(s);var i=e("0d24"),a=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(s,t,function(){return i[t]})}(o);s["default"]=a.a}},[["1906","common/runtime","common/vendor"]]]);