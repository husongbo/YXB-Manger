(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabBar/Accountpsd/Accountpsd"],{"086d":function(t,e,s){"use strict";var n=s("f475"),a=s.n(n);a.a},"22f2":function(t,e,s){"use strict";s("fa0a");var n=i(s("b0ce")),a=i(s("d88e"));function i(t){return t&&t.__esModule?t:{default:t}}Page((0,n.default)(a.default))},"2f14":function(t,e,s){"use strict";s.r(e);var n=s("2f43"),a=s.n(n);for(var i in n)"default"!==i&&function(t){s.d(e,t,function(){return n[t]})}(i);e["default"]=a.a},"2f43":function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s("2f62"),a=u(s("e3ba")),i=u(s("79ee")),o=u(s("ad0f")),r=u(s("6fce"));function u(t){return t&&t.__esModule?t:{default:t}}function c(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{},n=Object.keys(s);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(s).filter(function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable}))),n.forEach(function(e){l(t,e,s[e])})}return t}function l(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var d={data:function(){return{isHidePassword:!0,phone:"",password:"",passwords:"",Prompt:!1,onclickindex:0,phones:"",len:0,startX:0,moveEndX:0,valueX:0,alertarray:{show:!1,msg:""},verindex:0,userinfo:{phone:"",img:"",userid:"",userph:"",time:"",userinfos:"",cardinfo:""}}},computed:(0,n.mapState)(["UserInfo"]),components:{simpleLoading:i.default,alerts:a.default},onLoad:function(t){this.phones=JSON.parse(t.phone)},methods:c({},(0,n.mapMutations)(["AccountPsd"]),{isHidePasswordClick:function(){this.isHidePassword=!this.isHidePassword},touchstart:function(t){t.preventDefault(),this.startX=t.touches[0].pageX},touchmove:function(e){e.preventDefault(),this.moveEndX=e.touches[0].pageX,this.valueX=this.moveEndX-this.startX,this.valueX>=80&&t.navigateBack({delta:1,animationType:"pop-in",animationDuration:200})},LoginTS:function(t){var e=this;if(0==this.verindex)return this.alertarray.show=!0,this.alertarray.msg=t,this.password="",this.verindex=1,void setTimeout(function(){e.alertarray.show=!1,e.verindex=0},1e3)},GetDatas:function(){var t=new Date,e=t.getFullYear(),s=t.getMonth()+1,n=t.getDate();s=s<10?"0"+s:s,n=n<10?"0"+n:n,this.userinfo.time=e+"-"+s+"-"+n},AjaxUserInfo:function(){var e=this,s=this,n='{method:"GetUserInfo",user_id:"'.concat(this.userinfo.userid,'"}');this.$api.ReagisterPhone(n).then(function(n){console.log(JSON.stringify(n)),e.userinfo.userinfos=JSON.parse(n.data.user_info)[0];var a='{method:"GetUserCard",user_id:"'.concat(e.userinfo.userid,'"}');e.$api.ReagisterPhone(a).then(function(n){console.log(n),0==n.data.result?e.userinfo.cardinfo="no":e.userinfo.cardinfo=JSON.parse(n.data.data)[0],e.AccountPsd(e.userinfo),setTimeout(function(){t.showToast({title:"登录成功",duration:1e3,icon:"none",success:function(){console.log(s.UserInfo.logintime),setTimeout(function(){t.switchTab({url:"/pages/tabBar/personCenter/personCenter"})},1e3)}})},500)})})},Login:function(){var t=this;if(""!=this.password){var e=(0,o.default)(this.password),s={phone:this.phones,password:this.password,loin_type:1};console.log(s);var n=r.default.encrypt(JSON.stringify(s),"afd60b4ad2ec1l2c586e2150770f8f9e");console.log(e);var a='{method:"Login",post_params:"'.concat(n,'"}');this.$api.ReagisterPhone(a).then(function(e){t.$refs.simpleLoading.show({image:"../../../static/app-plus/tus.png",text:"登录中..."}),console.log(e),setTimeout(function(){if(t.$refs.simpleLoading.hide(),0!=e.data.result){if(1==e.data.result){var s=JSON.parse(e.data.user_info)[0];console.log(s),t.userinfo.phone=s.M0001_USER_ID,t.userinfo.userid=s.M0001_USER_ID,t.userinfo.img="../../../static/personCenter/pic.png",t.userinfo.userph=t.phones,t.GetDatas(),t.AjaxUserInfo()}}else t.LoginTS("密码不正确，请重新输入")},1e3)})}else this.LoginTS("密码不能为空")}})};e.default=d}).call(this,s("6e42")["default"])},7358:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"content",attrs:{eventid:"a09c41fa-4"},on:{touchstart:t.touchstart,touchmove:t.touchmove}},[s("view",{staticClass:"input-box"},[s("view",{staticClass:"input-item"},[s("view",{staticClass:"input-label"},[t._v("手机号")]),s("view",{staticClass:"input-body"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.phones,expression:"phones"}],staticClass:"input",staticStyle:{"margin-right":"50rpx","font-size":".9rem"},attrs:{disabled:"disabled",type:"text",placeholder:"请再次输入密码",maxlength:"20",eventid:"a09c41fa-0"},domProps:{value:t.phones},on:{input:function(e){e.target.composing||(t.phones=e.target.value)}}})])]),s("view",{staticClass:"input-item"},[s("view",{staticClass:"input-label"},[t._v("输入密码")]),s("view",{staticClass:"input-body"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",staticStyle:{"margin-right":"50rpx",width:"100%","font-size":".9rem"},attrs:{type:"text",password:!!t.isHidePassword,placeholder:"请输入密码",maxlength:"20",eventid:"a09c41fa-1"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("image",{staticClass:"eye",attrs:{src:t.isHidePassword?"/static/img/attention.png":"/static/img/attention_forbid.png",eventid:"a09c41fa-2"},on:{click:t.isHidePasswordClick}})])]),s("view",{staticClass:"Forgetpsd"})]),s("button",{staticClass:"submit",attrs:{type:"primary",eventid:"a09c41fa-3"},on:{click:t.Login}},[t._v("登录")]),s("simpleLoading",{ref:"simpleLoading",attrs:{mpcomid:"a09c41fa-0"}}),s("alerts",{attrs:{show:t.alertarray.show,msg:t.alertarray.msg,mpcomid:"a09c41fa-1"}})],1)},a=[];s.d(e,"a",function(){return n}),s.d(e,"b",function(){return a})},d88e:function(t,e,s){"use strict";s.r(e);var n=s("7358"),a=s("2f14");for(var i in a)"default"!==i&&function(t){s.d(e,t,function(){return a[t]})}(i);s("086d");var o=s("2877"),r=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,"673b1387",null);e["default"]=r.exports},f475:function(t,e,s){}},[["22f2","common/runtime","common/vendor"]]]);