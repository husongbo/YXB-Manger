(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabBar/personCenter/personCenter"],{"04db":function(e,n,t){"use strict";t.r(n);var i=t("24d3"),a=t.n(i);for(var o in i)"default"!==o&&function(e){t.d(n,e,function(){return i[e]})}(o);n["default"]=a.a},"24d3":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=c(t("a23f")),a=c(t("2654")),o=c(t("e3ba")),s=c(t("b972")),r=t("2f62");function c(e){return e&&e.__esModule?e:{default:e}}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.forEach(function(n){u(e,n,t[n])})}return e}function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var f={components:{uniIcon:i.default,footers:a.default,alerts:o.default,simpleDialog:s.default},computed:l({},(0,r.mapState)({UserInfo:function(e){return e.UserInfo},userindex:function(e){return e.userindex}}),{hasLogins:{get:function(){return this.$store.state.hasLogins},set:function(e){this.$store.state.hasLogins=e}},hasLogin:{get:function(){return this.$store.state.hasLogin},set:function(e){this.$store.state.hasLogin=e}}}),data:function(){return{ids:4,phone:"",info:"info",title:"swiper",background:["color1","color2","color3"],indicatorDots:!0,autoplay:!0,interval:2e3,duration:500,pictrue:"",grids:[{pic:"../../../static/banner/icon_youkachongzhi.png",text:"油卡充值"},{pic:"../../../static/banner/icon_youhuiquan.png",text:"优惠券"},{pic:"../../../static/banner/icon_xinyongjiayou.png",text:"信用加油"},{pic:"../../../static/banner/icon_liantongzhuanxiang.png",text:"联通专享"},{pic:"../../../static/banner/icon_zaixianshangcheng.png",text:"在线商城"},{pic:"../../../static/banner/icon_goumaiyouquan.png",text:"无卡加油"}],listarr:[{src:"../../../static/personCenter/icon_ykxs.png",name:"油卡管理",url:"/pages/myindex/Oilmanage/Oilmanage",index:1},{src:"../../../static/personCenter/icon_qdgl.png",name:"渠道管理",url:"/pages/myindex/Oilmanage/Oilmanage",index:2},{src:"../../../static/personCenter/icon_wode.png",name:"个人信息",url:"/pages/myindex/Personalinfo/Personalinfo",index:3},{src:"../../../static/personCenter/icon_fapiao.png",name:"油卡发票",url:"/pages/myindex/Invoiceinfo/Invoiceinfo",index:4},{src:"../../../static/personCenter/icon_fankui.png",name:"帮助与反馈",url:"/pages/myindex/Helpfeed/Helpfeed",index:5},{src:"../../../static/personCenter/icon_xieyi.png",name:"用户协议",url:"/pages/myindex/Useragreement/Useragreement",index:6},{src:"../../../static/personCenter/icon_guanyuwomen.png",name:"关于我们",url:"/pages/myindex/aboutme/aboutme",index:7}],alertarray:{show:!1,msg:"",icon:"msg"},alertindex:"",Usercapital:{integral:"0.00",money:"0.00"},sDialog:{message:"您还没有登录，请先登录！"}}},mounted:function(){this.getinfo()},onShareAppMessage:function(){return{title:"欢迎体验uni-app",path:"/pages/tabBar/API/API"}},onNavigationBarButtonTap:function(e){var n=this;"请登录"!=this.UserInfo.userphone?this.AjaxUserInfo("info"):0==this.alertindex&&(this.alertarray.show=!0,this.alertarray.msg="请先登录您的账号",this.alertindex=1,setTimeout(function(){n.alertarray.show=!1,n.alertindex=0},1e3))},watch:{UserInfo:function(e,n){this.UserInfo=e,console.log(this.UserInfo)},hasLogins:function(e,n){this.hasLogins=e,this.integralLogin(),this.moneyLogin(),console.log(this.hasLogins)}},methods:l({},(0,r.mapMutations)(["GetUserInfo","Changepic"]),{getinfo:function(){this.GetUserInfo();if("请登录"==this.UserInfo.userphone)return this.sDialog.message="您还没有登录，是否前往登录",void this.$refs.simpleDialog2.confirm({title:"提示！",message:this.sDialog.message});this.integralLogin(),this.moneyLogin()},AjaxUserInfo:function(n){var t=this;console.log(this.UserInfo.userid);var i='{method:"GetUserInfo",user_id:"'.concat(this.UserInfo.userid,'"}');this.$api.ReagisterPhone(i).then(function(e){t.UserInfo.userinfos=JSON.parse(e.data.user_info)[0]}),"info"!=n?e.navigateTo({url:"../../myindex/Personalinfo/Personalinfo",animationType:"pop-in",animationDuration:200}):e.navigateTo({url:"../UserInfo/UserInfo",animationType:"pop-in",animationDuration:200})},integralLogin:function(){var e=this;if("请登录"==this.UserInfo.userphone)this.Usercapital.integral="0.00",console.log("积分未登录");else{console.log("已登录");var n='{method:"GetUserScoreInfo",user_id:"$(this.UserInfo.userid)"}';this.$api.ReagisterPhone(n).then(function(n){if(""==JSON.parse(n.data.data_score)||JSON.parse(n.data.data_score)==[])return e.Usercapital.integral="0.00",void console.log("没有积分");e.Usercapital.integral=JSON.parse(n.data.data_score)[0].SCORE})}},clickintegral:function(n){"请登录"!=this.UserInfo.userphone?"interval"!=n?"money"!=n||e.navigateTo({url:"../../function/Balance/Balance",animationType:"pop-in",animationDuration:200}):e.navigateTo({url:"../../function/integral/integral",animationType:"pop-in",animationDuration:200}):this.$refs.simpleDialog2.confirm({title:"提示！",message:this.sDialog.message})},confirmButton:function(){console.log("Dialog 确定按钮点击"),e.navigateTo({url:"../Login/Login",animationType:"pop-in",animationDuration:200})},cancelButton:function(){console.log("Dialog 取消按钮点击")},confirmButton1:function(){console.log("Dialog 确定按钮点击"),e.switchTab({url:"/pages/tabBar/gasCard/gasCard"})},cancelButton1:function(){console.log("Dialog 取消按钮点击")},moneyLogin:function(){var e=this;if("请登录"==this.UserInfo.userphone)this.Usercapital.money="0.00",console.log("余额未登录");else{console.log("已登录");var n='{method:"GetUserMoneyInfo",user_id:"$(this.UserInfo.userid)"}';this.$api.ReagisterPhone(n).then(function(n){if("暂无用户余额信息"==n.data.message)return e.Usercapital.money="0.00",void console.log("没有余额");e.Usercapital.money=JSON.parse(n.data.data_score)[0].MONEY})}},triggerCollapse:function(e){this.goDetailPage(this.listarr[e].url,this.listarr[e].index);for(var n=0;n<this.listarr.length;++n)this.listarr[n].open=e===n&&!this.listarr[e].open},goDetailPage:function(n,t){var i=~n.indexOf("pages")?n:"/pages/API/"+n+"/"+n;3==t&&this.hasLogins?this.AjaxUserInfo():4!=t||this.hasLogins?e.navigateTo({url:i,animationType:"pop-in",animationDuration:200}):this.$refs.simpleDialog2.confirm({title:"提示！",message:this.sDialog.message})},setUp:function(){"请登录"!=this.UserInfo.userphone?this.Replacepictures():e.navigateTo({url:"../Login/Login",animationType:"pop-in",animationDuration:200})},Replacepictures:function(){var n=this;e.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){console.log(t.tempFilePaths),n.Changepic(t.tempFilePaths.toString()),e.saveFile({tempFilePath:t.tempFilePaths[0],success:function(e){var n=t.savedFilePath;console.log(n)}})},fail:function(e){console.log(JSON.stringify(e))}})}})};n.default=f}).call(this,t("6e42")["default"])},"5e01":function(e,n,t){"use strict";t("fa0a");var i=o(t("b0ce")),a=o(t("f2c8"));function o(e){return e&&e.__esModule?e:{default:e}}Page((0,i.default)(a.default))},"85b2":function(e,n,t){"use strict";var i=t("87d2"),a=t.n(i);a.a},"87d2":function(e,n,t){},9030:function(e,n,t){"use strict";var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("view",{staticClass:"uni-common-pb"},[t("view",{staticClass:"page-section",attrs:{eventid:"65dffa03-0"},on:{click:e.setUp}},[t("view",{staticClass:"user-logo"},[t("image",{attrs:{src:e.UserInfo.userimg}}),t("span",[e._v(e._s(e.UserInfo.userphone))])])]),t("view",{staticClass:"own-card"},[t("view",{staticClass:"uni-flex uni-row"},[t("view",{staticClass:"flex-item own-item borders",attrs:{eventid:"65dffa03-1"},on:{click:function(n){e.clickintegral("interval")}}},[t("view",{staticClass:"own-num"},[e._v(e._s(e.Usercapital.integral))]),t("view",[e._v("积分")])]),t("view",{staticClass:"flex-item own-item",attrs:{eventid:"65dffa03-2"},on:{click:function(n){e.clickintegral("money")}}},[t("view",{staticClass:"own-num"},[e._v(e._s(e.Usercapital.money))]),t("view",[e._v("余额")])])])]),t("view",{staticClass:"uni-list"},e._l(e.listarr,function(n,i){return t("view",{key:i,staticClass:"uni-list-cell",attrs:{"hover-class":"uni-list-cell-hover"}},[t("view",{staticClass:"uni-list-cell-navigate uni-navigate-right",attrs:{eventid:"65dffa03-3-"+i},on:{click:function(n){e.triggerCollapse(i)}}},[t("image",{staticStyle:{width:"50rpx",height:"45rpx"},attrs:{src:n.src}}),t("view",{staticClass:"uni-media-list-text-top"},[e._v(e._s(n.name))])])])})),t("alerts",{attrs:{show:e.alertarray.show,msg:e.alertarray.msg,icon:e.alertarray.icon,mpcomid:"65dffa03-0"}}),t("simpleDialog",{ref:"simpleDialog2",attrs:{title:e.sDialog.title,message:e.sDialog.message,eventid:"65dffa03-4",mpcomid:"65dffa03-1"},on:{confirmButton:e.confirmButton,cancelButton:e.cancelButton}}),t("simpleDialog",{ref:"simpleDialog3",attrs:{title:e.sDialog.title,message:e.sDialog.message,eventid:"65dffa03-5",mpcomid:"65dffa03-2"},on:{confirmButton:e.confirmButton1,cancelButton:e.cancelButton1}})],1)},a=[];t.d(n,"a",function(){return i}),t.d(n,"b",function(){return a})},f2c8:function(e,n,t){"use strict";t.r(n);var i=t("9030"),a=t("04db");for(var o in a)"default"!==o&&function(e){t.d(n,e,function(){return a[e]})}(o);t("85b2");var s=t("2877"),r=Object(s["a"])(a["default"],i["a"],i["b"],!1,null,"4035327d",null);n["default"]=r.exports}},[["5e01","common/runtime","common/vendor"]]]);