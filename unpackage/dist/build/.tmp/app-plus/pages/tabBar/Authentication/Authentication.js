(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabBar/Authentication/Authentication"],{"3f7e":function(e,t,n){"use strict";n.r(t);var o=n("4428"),a=n("ccde");for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);n("a184");var s=n("2877"),r=Object(s["a"])(a["default"],o["a"],o["b"],!1,null,"5e1ccaad",null);t["default"]=r.exports},4428:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},a=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a})},"62d0":function(e,t,n){},"6a99":function(e,t,n){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("2f62");function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=function(){return n.e("components/loading/dialog-loading").then(n.bind(null,"7213"))},u={data:function(){return{isHidePassword:!0,phone:"",password:"",passwords:"",Prompt:!1,onclickindex:0,phones:"",len:0,startX:0,moveEndX:0,valueX:0,Yamtext:"获取验证码",Code:"",codeindex:!0,UserCode:"",userinfo:{phone:"",img:"",userid:"",userph:"",time:"",userinfos:"",cardinfo:""}}},computed:(0,a.mapState)(["UserInfo"]),components:{simpleLoading:r},onLoad:function(e){this.phones=JSON.parse(e.phone)},methods:i({},(0,a.mapMutations)(["AccountPsd"]),{isHidePasswordClick:function(){this.isHidePassword=!this.isHidePassword},touchstart:function(e){e.preventDefault(),this.startX=e.touches[0].pageX},touchmove:function(t){t.preventDefault(),this.moveEndX=t.touches[0].pageX,this.valueX=this.moveEndX-this.startX,this.valueX>=80&&e.navigateBack({delta:1,animationType:"pop-in",animationDuration:200})},GetCode:function(){var t=this,n=this,a='{method:"SendVerfyCode",phone:"'.concat(this.phones,'"}');this.codeindex&&(this.codeindex=!1,this.$api.SendVerfyCode(a).then(function(a){if(console.log(o(a," at pages\\tabBar\\Authentication\\Authentication.vue:95")),1!=a.data.result&&"短信发送超限"!=a.data.message){e.showToast({title:a.data.message,duration:1e3,icon:"none"}),t.Yamtext=60;var i=setInterval(function(){t.Yamtext--,t.Yamtext<=0&&(clearInterval(i),t.codeindex=!0,t.Yamtext="获取验证码",t.UserCode="")},1e3)}else e.showToast({title:a.data.message,duration:1e3,icon:"none",success:function(){n.codeindex=!0}})}))},GetDatas:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,o=e.getDate();n=n<10?"0"+n:n,o=o<10?"0"+o:o,this.userinfo.time=t+"-"+n+"-"+o},AjaxUserInfo:function(){var t=this,n=this,a='{method:"GetUserInfo",user_id:"'.concat(this.userinfo.userid,'"}');this.$api.ReagisterPhone(a).then(function(a){console.log(o(JSON.stringify(a)," at pages\\tabBar\\Authentication\\Authentication.vue:148")),t.userinfo.userinfos=JSON.parse(a.data.user_info)[0];var i='{method:"GetUserCard",user_id:"'.concat(t.userinfo.userid,'"}');t.$api.ReagisterPhone(i).then(function(a){console.log(o(a," at pages\\tabBar\\Authentication\\Authentication.vue:152")),0==a.data.result?t.userinfo.cardinfo="no":t.userinfo.cardinfo=JSON.parse(a.data.data)[0],t.AccountPsd(t.userinfo),setTimeout(function(){e.showToast({title:"登录成功",duration:1e3,icon:"none",success:function(){console.log(o(n.UserInfo.logintime," at pages\\tabBar\\Authentication\\Authentication.vue:166")),setTimeout(function(){e.switchTab({url:"/pages/tabBar/personCenter/personCenter"})},1e3)}})},500)})})},CodeQuestion:function(){var t=this,n='{method:"CheckSmsValidateCode",phone:"'.concat(this.phones,'",sms_validate_code:"').concat(this.Code,'"}');console.log(o(n," at pages\\tabBar\\Authentication\\Authentication.vue:180")),this.$api.SendVerfyCode(n).then(function(n){if(console.log(o(n," at pages\\tabBar\\Authentication\\Authentication.vue:183")),0==n.data.result){var a='{method:"LoginFromAValidateCode",phone:"'.concat(t.phones,'",sms_validate_code:"').concat(t.Code,'"}');t.$api.SendVerfyCode(a).then(function(e){var n=JSON.parse(e.data.data)[0];t.userinfo.phone=n.M0001_USER_ID,t.userinfo.userid=n.M0001_USER_ID,t.userinfo.img="../../../static/personCenter/pic.png",t.userinfo.userph=t.phones,t.GetDatas(),t.AjaxUserInfo(),console.log(o(n," at pages\\tabBar\\Authentication\\Authentication.vue:194"))})}else t.Code="",e.showToast({title:"验证码不正确，请重新输入",duration:1e3,icon:"none"})})}})};t.default=u}).call(this,n("6e42")["default"],n("0de9")["default"])},9210:function(e,t,n){"use strict";(function(e){n("b1e6"),n("921b");o(n("66fd"));var t=o(n("3f7e"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},a184:function(e,t,n){"use strict";var o=n("62d0"),a=n.n(o);a.a},ccde:function(e,t,n){"use strict";n.r(t);var o=n("6a99"),a=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);t["default"]=a.a}},[["9210","common/runtime","common/vendor"]]]);