(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabBar/Authentication/Authentication"],{3339:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("2f62"),a=i(n("79ee"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={data:function(){return{isHidePassword:!0,phone:"",password:"",passwords:"",Prompt:!1,onclickindex:0,phones:"",len:0,startX:0,moveEndX:0,valueX:0,Yamtext:"获取验证码",Code:"",codeindex:!0,UserCode:"",userinfo:{phone:"",img:"",userid:"",userph:"",time:"",userinfos:"",cardinfo:""}}},computed:(0,o.mapState)(["UserInfo"]),components:{simpleLoading:a.default},onLoad:function(e){this.phones=JSON.parse(e.phone)},methods:s({},(0,o.mapMutations)(["AccountPsd"]),{isHidePasswordClick:function(){this.isHidePassword=!this.isHidePassword},touchstart:function(e){e.preventDefault(),this.startX=e.touches[0].pageX},touchmove:function(t){t.preventDefault(),this.moveEndX=t.touches[0].pageX,this.valueX=this.moveEndX-this.startX,this.valueX>=80&&e.navigateBack({delta:1,animationType:"pop-in",animationDuration:200})},GetCode:function(){var t=this,n=this,o='{method:"SendVerfyCode",phone:"'.concat(this.phones,'"}');this.codeindex&&(this.codeindex=!1,this.$api.SendVerfyCode(o).then(function(o){if(console.log(o),1!=o.data.result&&"短信发送超限"!=o.data.message){e.showToast({title:o.data.message,duration:1e3,icon:"none"}),t.Yamtext=60;var a=setInterval(function(){t.Yamtext--,t.Yamtext<=0&&(clearInterval(a),t.codeindex=!0,t.Yamtext="获取验证码",t.UserCode="")},1e3)}else e.showToast({title:o.data.message,duration:1e3,icon:"none",success:function(){n.codeindex=!0}})}))},GetDatas:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,o=e.getDate();n=n<10?"0"+n:n,o=o<10?"0"+o:o,this.userinfo.time=t+"-"+n+"-"+o},AjaxUserInfo:function(){var t=this,n=this,o='{method:"GetUserInfo",user_id:"'.concat(this.userinfo.userid,'"}');this.$api.ReagisterPhone(o).then(function(o){console.log(JSON.stringify(o)),t.userinfo.userinfos=JSON.parse(o.data.user_info)[0];var a='{method:"GetUserCard",user_id:"'.concat(t.userinfo.userid,'"}');t.$api.ReagisterPhone(a).then(function(o){console.log(o),0==o.data.result?t.userinfo.cardinfo="no":t.userinfo.cardinfo=JSON.parse(o.data.data)[0],t.AccountPsd(t.userinfo),setTimeout(function(){e.showToast({title:"登录成功",duration:1e3,icon:"none",success:function(){console.log(n.UserInfo.logintime),setTimeout(function(){e.switchTab({url:"/pages/tabBar/personCenter/personCenter"})},1e3)}})},500)})})},CodeQuestion:function(){var t=this,n='{method:"CheckSmsValidateCode",phone:"'.concat(this.phones,'",sms_validate_code:"').concat(this.Code,'"}');console.log(n),this.$api.SendVerfyCode(n).then(function(n){if(console.log(n),0==n.data.result){var o='{method:"LoginFromAValidateCode",phone:"'.concat(t.phones,'",sms_validate_code:"').concat(t.Code,'"}');t.$api.SendVerfyCode(o).then(function(e){var n=JSON.parse(e.data.data)[0];t.userinfo.phone=n.M0001_USER_ID,t.userinfo.userid=n.M0001_USER_ID,t.userinfo.img="../../../static/personCenter/pic.png",t.userinfo.userph=t.phones,t.GetDatas(),t.AjaxUserInfo(),console.log(n)})}else t.Code="",e.showToast({title:"验证码不正确，请重新输入",duration:1e3,icon:"none"})})}})};t.default=c}).call(this,n("6e42")["default"])},4741:function(e,t,n){"use strict";n("fa0a");var o=i(n("b0ce")),a=i(n("6d26"));function i(e){return e&&e.__esModule?e:{default:e}}Page((0,o.default)(a.default))},"6d26":function(e,t,n){"use strict";n.r(t);var o=n("b3ae"),a=n("c12c");for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);n("c7ac");var s=n("2877"),r=Object(s["a"])(a["default"],o["a"],o["b"],!1,null,"99e980a2",null);t["default"]=r.exports},"93a6":function(e,t,n){},b3ae:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:"content",attrs:{eventid:"0e483d03-4"},on:{touchstart:e.touchstart,touchmove:e.touchmove}},[n("view",{staticClass:"input-box"},[n("view",{staticClass:"input-item"},[n("view",{staticClass:"input-label"},[e._v("手机号")]),n("view",{staticClass:"input-body"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.phones,expression:"phones"}],staticClass:"input",staticStyle:{"margin-right":"50rpx"},attrs:{disabled:"disabled",type:"text",placeholder:"请再次输入密码",maxlength:"20",eventid:"0e483d03-0"},domProps:{value:e.phones},on:{input:function(t){t.target.composing||(e.phones=t.target.value)}}})])]),n("view",{staticClass:"input-item"},[n("view",{staticClass:"input-label"},[e._v("验证码")]),n("view",{staticClass:"input-body"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.Code,expression:"Code"}],staticClass:"input",staticStyle:{float:"left"},attrs:{type:"number",placeholder:"请输入验证码",maxlength:"20",eventid:"0e483d03-1"},domProps:{value:e.Code},on:{input:function(t){t.target.composing||(e.Code=t.target.value)}}}),n("view",{staticClass:"VerYZM",staticStyle:{float:"right",height:"100rpx","line-height":"100rpx",background:"#08B6F2","text-align":"center",color:"white"},attrs:{eventid:"0e483d03-2"},on:{click:e.GetCode}},[e._v(e._s(e.Yamtext))])])])]),n("button",{staticClass:"submit",attrs:{type:"primary",eventid:"0e483d03-3"},on:{click:e.CodeQuestion}},[e._v("确定")]),n("simpleLoading",{ref:"simpleLoading",attrs:{mpcomid:"0e483d03-0"}})],1)},a=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a})},c12c:function(e,t,n){"use strict";n.r(t);var o=n("3339"),a=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);t["default"]=a.a},c7ac:function(e,t,n){"use strict";var o=n("93a6"),a=n.n(o);a.a}},[["4741","common/runtime","common/vendor"]]]);